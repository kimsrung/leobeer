function CMain(e){var a,s,t,i,r=0,d=0,c=STATE_LOADING;this.initContainer=function(e){TIME_GAME=e.time_game,INIT_GRAVITY_NORMAL=e.gravity,INIT_BALLMASS_NORMAL=e.ballMass,FRICTION_NORMAL=e.friction,EDGEFRICTION_NORMAL=e.edgeFriction,ROTATIONSPEED_NORMAL=e.rotationSpeed,HORIZ_KICKFORCE_NORMAL=e.horizKickForce,VERT_KICKFORCE_NORMAL=e.vertKickForce,RESTITUTION_KICKFORCE_NORMAL=e.restitutionKickForce,INIT_GRAVITY_CHALLENGE=e.chGravity,INIT_BALLMASS_CHALLENGE=e.chBallMass,FRICTION_CHALLENGE=e.chFriction,EDGEFRICTION_CHALLENGE=e.chEdgeFriction,ROTATIONSPEED_CHALLENGE=e.chRotationSpeed,HORIZ_KICKFORCE_CHALLENGE=e.chHorizKickForce,VERT_KICKFORCE_CHALLENGE=e.chVertKickForce,RESTITUTION_KICKFORCE_CHALLENGE=e.chRestitutionKickForce,GRAVITY_INCREASE=e.chGravityIncrease,s_oStage=new createjs.Stage("canvas"),createjs.Touch.enable(s_oStage),s_bMobile=jQuery.browser.mobile,s_bMobile===!1&&s_oStage.enableMouseOver(20),s_iPrevTime=(new Date).getTime(),createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",this._update),navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0),s_oSpriteLibrary=new CSpriteLibrary,s=new CPreloader,a=!0},this.preloaderReady=function(){this._loadImages(),DISABLE_SOUND_MOBILE!==!1&&s_bMobile!==!1||this._initSounds()},this.soundLoaded=function(){r++;var e=Math.floor(r/d*100);s.refreshLoader(e),r===d&&(s.unload(),this.gotoMenu())},this._initSounds=function(){createjs.Sound.initializeDefaultPlugins()&&(navigator.userAgent.indexOf("Opera")>0||navigator.userAgent.indexOf("OPR")>0?(createjs.Sound.alternateExtensions=["mp3"],createjs.Sound.addEventListener("fileload",createjs.proxy(this.soundLoaded,this)),createjs.Sound.registerSound("/assets/reset_kickup-6901f0711408fd28f9b01ce8fad320256c1e1e4bd376f91f242f90d9a2329006.ogg","reset_kickup"),createjs.Sound.registerSound("/assets/soundtrack-80adcb4e3b9370dc12e48d1db40192b3969f04d8eeea8d4cbce5903e71008d2c.ogg","soundtrack"),createjs.Sound.registerSound("/assets/tap-1cb5e95e16286d1cc41abd478671776d5458ab2a9bab5112255ffa7f3e936089.ogg","tap")):(createjs.Sound.alternateExtensions=["ogg"],createjs.Sound.addEventListener("fileload",createjs.proxy(this.soundLoaded,this)),createjs.Sound.registerSound("/assets/reset_kickup-1e4b73e6bb6ceafbd2c9274eeda8a68f3969b3ec8805602188535359f9d69a9f.mp3","reset_kickup"),createjs.Sound.registerSound("/assets/soundtrack-40c71a403d20fec6850d55ce240c992faf98c87c7a7619703d2a1337314cfbae.mp3","soundtrack"),createjs.Sound.registerSound("/assets/tap-08f34da1f831dedfc83960c8d91591e91e2b4ed9d08a3a54ce05b95115d9a6eb.mp3","tap")),d+=3)},this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("audio_icon","./assets/audio_icon-ca41cffe18a0b93e79c5a4268c66e124a481c326e057b20aac19098cd6ba70c2.png"),s_oSpriteLibrary.addSprite("ball_1","/assets/ball_1-4e7e61f6dc3525685832271575cc73aadd4323ce8b74ecb057ed85aa07738130.png"),s_oSpriteLibrary.addSprite("ball_2","/assets/ball_2-4e7e61f6dc3525685832271575cc73aadd4323ce8b74ecb057ed85aa07738130.png"),s_oSpriteLibrary.addSprite("ball_3","/assets/ball_3-4e7e61f6dc3525685832271575cc73aadd4323ce8b74ecb057ed85aa07738130.png"),s_oSpriteLibrary.addSprite("ball_hit","/assets/ball_hit-c094c94486b96c39a72f0a7a584958a6ca39055ec925e1ce2a84a0dbbcf677d6.png"),s_oSpriteLibrary.addSprite("shadow","/assets/shadow-4faaa0aee0f251c59338cf71356973a51ba6c764b66e6b6bf861f8dbc24d353a.png"),s_oSpriteLibrary.addSprite("bg_game","/assets/bg_game-c8f1c00b6978aae888dafb47c3a4d4507ba25d37ae703e676e294a026a9c010e.jpg"),s_oSpriteLibrary.addSprite("bg_menu","/assets/bg_menu-b2e341dff110ddc0e954fa1f4ecfc6ff424d8c1afea9c1204dbd37d3f89cacf3.jpg"),s_oSpriteLibrary.addSprite("but_exit","/assets/but_exit-32643c4c322446a6055679c89bca4255f1e55cf705c172614d490d0cd191e68e.png"),s_oSpriteLibrary.addSprite("but_play","/assets/but_play-e922a89e5ee5190ec509e53a2af17d463f81349aa28fcbc41f3b09f730ae695b.png"),s_oSpriteLibrary.addSprite("panel","/assets/msg_box-97652908c6c61e13a397ed59bf0e9ae0039cac2e95e1dfa883de9fa4b8880865.png"),s_oSpriteLibrary.addSprite("but_credits","/assets/but_credits-ad196913a4cd64111c2b38769620bf014bb6b9409d50065c1ade6b30689e59d3.png"),s_oSpriteLibrary.addSprite("logo_credits","/assets/logo_credits-9096e4b85eeb1162cc0e3e84cd9a590da41e70326fa2e3cb7f6f2edb6a476feb.png"),s_oSpriteLibrary.addSprite("player_1","/assets/player_sprite_1-3d2ee0247562ad4731eb655e123cb16f0f079cf6bf06600bc030e1b8e0809b03.png"),s_oSpriteLibrary.addSprite("player_2","/assets/player_sprite_2-c00cfabe15e9f3720b114deabb430acaeee1540244bc0739fe4e70836705d313.png"),s_oSpriteLibrary.addSprite("player_3","/assets/player_sprite_3-d6cbb65fef028689cb18a4af4eb5a164e52a4dea62cc9e4c996318906a7ce912.png"),s_oSpriteLibrary.addSprite("player_4","/assets/player_sprite_4-7dca8001177ca0f9094b25cca0daf35f2d46ff39e668f38f3f109b9cec88ee7f.png"),s_oSpriteLibrary.addSprite("player_5","/assets/player_sprite_5-eb630597b2fd91664fe00b4ae528ca8eb534cb87e895047088610188d72e7de0.png"),s_oSpriteLibrary.addSprite("player_6","/assets/player_sprite_6-2df4b5a76603976e8c51072b5df58c3916231a3ace4c1ba32235c6be0de607e1.png"),s_oSpriteLibrary.addSprite("player_7","/assets/player_sprite_7-a82a181ea77548238d178a07c7112b9c4d00ad144a746da60eccfbaa5d339c32.png"),d+=s_oSpriteLibrary.getNumSprites(),s_oSpriteLibrary.loadSprites()},this._onImagesLoaded=function(){r++;var e=Math.floor(r/d*100);s.refreshLoader(e),r===d&&(s.unload(),this.gotoMenu())},this._onAllImagesLoaded=function(){},this.onAllPreloaderImagesLoaded=function(){this._loadImages()},this.gotoMenu=function(){t=new CMenu,c=STATE_MENU},this.gotoGame=function(e){i=new CGame(e),c=STATE_GAME},this.gotoHelp=function(){_oHelp=new CHelp,c=STATE_HELP},this.stopUpdate=function(){a=!1,createjs.Ticker.paused=!0,$("#block_game").css("display","block")},this.startUpdate=function(){s_iPrevTime=(new Date).getTime(),a=!0,createjs.Ticker.paused=!1,$("#block_game").css("display","none")},this._update=function(e){if(a){var s=(new Date).getTime();s_iTimeElaps=s-s_iPrevTime,s_iCntTime+=s_iTimeElaps,s_iCntFps++,s_iPrevTime=s,s_iCntTime>=1e3&&(s_iCurFps=s_iCntFps,s_iCntTime-=1e3,s_iCntFps=0),c===STATE_GAME&&i.update(),s_oStage.update(e)}},s_oMain=this,this.initContainer(e)}var s_bMobile,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oSoundTrack=null,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oGameSettings;