function CEndPanel(e){var t,n,i,a,o,s,_;return this._init=function(e){_=new createjs.Container,_.alpha=0,_.visible=!1,s_oStage.addChild(_),n=createBitmap(e),_.addChild(n),s=new createjs.Text("","60px "+FONT_GAME,"#000"),s.x=CANVAS_WIDTH/2+1,s.y=CANVAS_HEIGHT/2-160,s.textAlign="center",_.addChild(s),o=new createjs.Text("","60px "+FONT_GAME,"#ffffff"),o.x=CANVAS_WIDTH/2,o.y=CANVAS_HEIGHT/2-162,o.textAlign="center",_.addChild(o),i=new createjs.Text("","40px "+FONT_GAME,"#000"),i.x=CANVAS_WIDTH/2+1,i.y=CANVAS_HEIGHT/2+50,i.textAlign="center",_.addChild(i),a=new createjs.Text("","40px "+FONT_GAME,"#ffffff"),a.x=CANVAS_WIDTH/2,a.y=CANVAS_HEIGHT/2+52,a.textAlign="center",_.addChild(a)},this.unload=function(){_.off("mousedown",this._onExit)},this._initListener=function(){_.on("mousedown",this._onExit),$(s_oMain).trigger("show_interlevel_ad")},this.show=function(e,n){t=e,createjs.Sound.play("game_over"),s.text=TEXT_GAMEOVER,o.text=TEXT_GAMEOVER,i.text=TEXT_SCORE+": "+e,a.text=TEXT_SCORE+": "+e,_.visible=!0;var r=this;createjs.Tween.get(_).to({alpha:1},500).call(function(){r._initListener()}),$(s_oMain).trigger("save_score",[e,n?"challenge":"normal"])},this._onExit=function(){$(s_oMain).trigger("share_event",t),_.off("mousedown",this._onExit),s_oStage.removeChild(_),s_oGame.unload()},this._init(e),this}