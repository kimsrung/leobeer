function CMain(e){var a,s,t,i,r=0,d=0,c=STATE_LOADING;this.initContainer=function(e){TIME_GAME=e.time_game,INIT_GRAVITY_NORMAL=e.gravity,INIT_BALLMASS_NORMAL=e.ballMass,FRICTION_NORMAL=e.friction,EDGEFRICTION_NORMAL=e.edgeFriction,ROTATIONSPEED_NORMAL=e.rotationSpeed,HORIZ_KICKFORCE_NORMAL=e.horizKickForce,VERT_KICKFORCE_NORMAL=e.vertKickForce,RESTITUTION_KICKFORCE_NORMAL=e.restitutionKickForce,INIT_GRAVITY_CHALLENGE=e.chGravity,INIT_BALLMASS_CHALLENGE=e.chBallMass,FRICTION_CHALLENGE=e.chFriction,EDGEFRICTION_CHALLENGE=e.chEdgeFriction,ROTATIONSPEED_CHALLENGE=e.chRotationSpeed,HORIZ_KICKFORCE_CHALLENGE=e.chHorizKickForce,VERT_KICKFORCE_CHALLENGE=e.chVertKickForce,RESTITUTION_KICKFORCE_CHALLENGE=e.chRestitutionKickForce,GRAVITY_INCREASE=e.chGravityIncrease,s_oStage=new createjs.Stage("canvas"),createjs.Touch.enable(s_oStage),s_bMobile=jQuery.browser.mobile,s_bMobile===!1&&s_oStage.enableMouseOver(20),s_iPrevTime=(new Date).getTime(),createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",this._update),navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0),s_oSpriteLibrary=new CSpriteLibrary,s=new CPreloader,a=!0},this.preloaderReady=function(){this._loadImages(),DISABLE_SOUND_MOBILE!==!1&&s_bMobile!==!1||this._initSounds()},this.soundLoaded=function(){r++;var e=Math.floor(r/d*100);s.refreshLoader(e),r===d&&(s.unload(),this.gotoMenu())},this._initSounds=function(){createjs.Sound.initializeDefaultPlugins()&&(navigator.userAgent.indexOf("Opera")>0||navigator.userAgent.indexOf("OPR")>0?(createjs.Sound.alternateExtensions=["mp3"],createjs.Sound.addEventListener("fileload",createjs.proxy(this.soundLoaded,this)),createjs.Sound.registerSound("/assets/reset_kickup-6901f0711408fd28f9b01ce8fad320256c1e1e4bd376f91f242f90d9a2329006.ogg","reset_kickup"),createjs.Sound.registerSound("/assets/soundtrack-80adcb4e3b9370dc12e48d1db40192b3969f04d8eeea8d4cbce5903e71008d2c.ogg","soundtrack"),createjs.Sound.registerSound("/assets/tap-1cb5e95e16286d1cc41abd478671776d5458ab2a9bab5112255ffa7f3e936089.ogg","tap")):(createjs.Sound.alternateExtensions=["ogg"],createjs.Sound.addEventListener("fileload",createjs.proxy(this.soundLoaded,this)),createjs.Sound.registerSound("/assets/reset_kickup-1e4b73e6bb6ceafbd2c9274eeda8a68f3969b3ec8805602188535359f9d69a9f.mp3","reset_kickup"),createjs.Sound.registerSound("/assets/soundtrack-40c71a403d20fec6850d55ce240c992faf98c87c7a7619703d2a1337314cfbae.mp3","soundtrack"),createjs.Sound.registerSound("/assets/tap-08f34da1f831dedfc83960c8d91591e91e2b4ed9d08a3a54ce05b95115d9a6eb.mp3","tap")),d+=3)},this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("audio_icon","./assets/audio_icon-a13ac8d1e90566682329b64042442ed4a00f76288fc4b9ba7d3f2cd5117ca4f7.png"),s_oSpriteLibrary.addSprite("ball_1","/assets/ball_1-0b0b1cdf34dce31224ae28831d33b59933dbb575d06e0767399c6211209fc260.png"),s_oSpriteLibrary.addSprite("ball_2","/assets/ball_2-9b3830ac0ece347972b215df56b036763b6fdeae5f643b497a4730900509f23c.png"),s_oSpriteLibrary.addSprite("ball_3","/assets/ball_3-600a64974f989a4c15384c582ef0bb03f497c8810efbe387f877e3dbfd0fd978.png"),s_oSpriteLibrary.addSprite("ball_hit","/assets/ball_hit-2f29823872b064ffd1b5434654f5f737c9f1836962f3e0ebaa38b5427b0ed17d.png"),s_oSpriteLibrary.addSprite("shadow","/assets/shadow-64ef55392da2c6670f4a64a6fdb40e7c8583ac188ca5f8fc169d6c62229a7f38.png"),s_oSpriteLibrary.addSprite("bg_game","/assets/bg_game-5690e93147b43db9452a44e0eeed5f6f7c3c99ca938e375c10ee770df8b372fb.jpg"),s_oSpriteLibrary.addSprite("bg_menu","/assets/bg_menu-26277eedb07c6e9d9eb65c95899c1f6fc7a202c45255f4ca5cbbbe68de7e74d3.jpg"),s_oSpriteLibrary.addSprite("but_exit","/assets/but_exit-8ff89d9a3144c9ebe1d76bb06bdab56ada02159caa206c915c8a54547a3ed608.png"),s_oSpriteLibrary.addSprite("but_play","/assets/but_play-2f2e07b9064e7ba27713e772e2da353a80ba860efe143924497053e08286a556.png"),s_oSpriteLibrary.addSprite("panel","/assets/msg_box-173d96778092065d8ebbc931c2f7909c52fa725163f6dccf07d7739e35cf9575.png"),s_oSpriteLibrary.addSprite("but_credits","/assets/but_credits-ad196913a4cd64111c2b38769620bf014bb6b9409d50065c1ade6b30689e59d3.png"),s_oSpriteLibrary.addSprite("logo_credits","/assets/logo_credits-9096e4b85eeb1162cc0e3e84cd9a590da41e70326fa2e3cb7f6f2edb6a476feb.png"),s_oSpriteLibrary.addSprite("player_1","/assets/player_sprite_1-70c3819e85b78ab1599a08ec642ff1e2bdd470a135ba5906e6fb9809d1c00d41.png"),s_oSpriteLibrary.addSprite("player_2","/assets/player_sprite_2-33c3cf12d66b881f7a6c19f7a702e4cb0408ebce714f3e235f2de8b9c10d1714.png"),s_oSpriteLibrary.addSprite("player_3","/assets/player_sprite_3-b53a36547a873b7659d8c7e026020d2ebfb29d35fa0fdf159546a026172e56db.png"),s_oSpriteLibrary.addSprite("player_4","/assets/player_sprite_4-0840c306846d281b735478b875f044f872c2e44854a0a7f9d5e675c7c639693d.png"),s_oSpriteLibrary.addSprite("player_5","/assets/player_sprite_5-8e330f5f5e6e2b7a83b0d99d8d667876dfb0fce900047142d6d8b739fd0b9dba.png"),s_oSpriteLibrary.addSprite("player_6","/assets/player_sprite_6-0e3ee797f68fe6f5f4e669f869f828a4cc34730e523a327447a1164e78314241.png"),s_oSpriteLibrary.addSprite("player_7","/assets/player_sprite_7-ce94d46890228d106e14bef489e5f80959b25b3367b214531407b1124e155b4d.png"),d+=s_oSpriteLibrary.getNumSprites(),s_oSpriteLibrary.loadSprites()},this._onImagesLoaded=function(){r++;var e=Math.floor(r/d*100);s.refreshLoader(e),r===d&&(s.unload(),this.gotoMenu())},this._onAllImagesLoaded=function(){},this.onAllPreloaderImagesLoaded=function(){this._loadImages()},this.gotoMenu=function(){t=new CMenu,c=STATE_MENU},this.gotoGame=function(e){i=new CGame(e),c=STATE_GAME},this.gotoHelp=function(){_oHelp=new CHelp,c=STATE_HELP},this.stopUpdate=function(){a=!1,createjs.Ticker.paused=!0,$("#block_game").css("display","block")},this.startUpdate=function(){s_iPrevTime=(new Date).getTime(),a=!0,createjs.Ticker.paused=!1,$("#block_game").css("display","none")},this._update=function(e){if(a){var s=(new Date).getTime();s_iTimeElaps=s-s_iPrevTime,s_iCntTime+=s_iTimeElaps,s_iCntFps++,s_iPrevTime=s,s_iCntTime>=1e3&&(s_iCurFps=s_iCntFps,s_iCntTime-=1e3,s_iCntFps=0),c===STATE_GAME&&i.update(),s_oStage.update(e)}},s_oMain=this,this.initContainer(e)}var s_bMobile,s_bAudioActive=!0,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oSoundTrack=null,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oGameSettings;