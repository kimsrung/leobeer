function CPreloader(){var e,a,t,i,r,s,d;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("bg_menu","/assets/bg_menu-26277eedb07c6e9d9eb65c95899c1f6fc7a202c45255f4ca5cbbbe68de7e74d3.jpg"),s_oSpriteLibrary.addSprite("progress_bar","/assets/progress_bar-6777799286c13469ba418ab23de8a7ce16a5b1664d7e852b9731a8df28b23890.png"),s_oSpriteLibrary.loadSprites(),d=new createjs.Container,s_oStage.addChild(d)},this.unload=function(){d.removeAllChildren()},this.hide=function(){var e=this;setTimeout(function(){createjs.Tween.get(s).to({alpha:1},500).call(function(){e.unload(),s_oMain.gotoMenu()})},1e3)},this._onImagesLoaded=function(){},this._onAllImagesLoaded=function(){this.attachSprites(),s_oMain.preloaderReady()},this.attachSprites=function(){var n=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));d.addChild(n);var o=s_oSpriteLibrary.getSprite("progress_bar");i=createBitmap(o),i.x=CANVAS_WIDTH/2-o.width/2,i.y=CANVAS_HEIGHT-180,d.addChild(i),e=o.width,a=o.height,r=new createjs.Shape,r.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(i.x,i.y,1,a),d.addChild(r),i.mask=r,t=new createjs.Text("","30px "+FONT_GAME,"#fff"),t.x=CANVAS_WIDTH/2,t.y=CANVAS_HEIGHT-176,t.shadow=new createjs.Shadow("#000",2,2,2),t.textBaseline="alphabetic",t.textAlign="center",d.addChild(t),s=new createjs.Shape,s.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),s.alpha=0,d.addChild(s)},this.refreshLoader=function(s){t.text=s+"%",r.graphics.clear();var d=Math.floor(s*e/100);r.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(i.x,i.y,d,a)},this._init()}