function CPreloader(){var e,a,t,i,r,d,s;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("bg_menu","/assets/bg_menu-b2e341dff110ddc0e954fa1f4ecfc6ff424d8c1afea9c1204dbd37d3f89cacf3.jpg"),s_oSpriteLibrary.addSprite("progress_bar","/assets/progress_bar-6777799286c13469ba418ab23de8a7ce16a5b1664d7e852b9731a8df28b23890.png"),s_oSpriteLibrary.loadSprites(),s=new createjs.Container,s_oStage.addChild(s)},this.unload=function(){s.removeAllChildren()},this.hide=function(){var e=this;setTimeout(function(){createjs.Tween.get(d).to({alpha:1},500).call(function(){e.unload(),s_oMain.gotoMenu()})},1e3)},this._onImagesLoaded=function(){},this._onAllImagesLoaded=function(){this.attachSprites(),s_oMain.preloaderReady()},this.attachSprites=function(){var n=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s.addChild(n);var o=s_oSpriteLibrary.getSprite("progress_bar");i=createBitmap(o),i.x=CANVAS_WIDTH/2-o.width/2,i.y=CANVAS_HEIGHT-180,s.addChild(i),e=o.width,a=o.height,r=new createjs.Shape,r.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(i.x,i.y,1,a),s.addChild(r),i.mask=r,t=new createjs.Text("","30px "+FONT_GAME,"#fff"),t.x=CANVAS_WIDTH/2,t.y=CANVAS_HEIGHT-176,t.shadow=new createjs.Shadow("#000",2,2,2),t.textBaseline="alphabetic",t.textAlign="center",s.addChild(t),d=new createjs.Shape,d.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),d.alpha=0,s.addChild(d)},this.refreshLoader=function(d){t.text=d+"%",r.graphics.clear();var s=Math.floor(d*e/100);r.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(i.x,i.y,s,a)},this._init()}