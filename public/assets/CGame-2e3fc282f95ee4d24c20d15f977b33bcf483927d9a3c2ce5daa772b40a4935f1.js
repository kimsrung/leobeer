function CGame(e){var i,a,t,l,n,r,o,s=0,_=0;this._init=function(e){if(i=e,t=TIME_GAME,r=new CPlayer,i){n=new CInterface(this,i),l=new CBallChallenge(this);var _=l.getInitialScoringdata();s=_.initGravity,a=_.tick}else n=new CInterface(this,i),l=new CBall(this);o=new CEndPanel(s_oSpriteLibrary.getSprite("panel")),$(s_oMain).trigger("start_level",1)},this.unload=function(){$(s_oMain).trigger("end_level",1),l.unload(),s_oGame=null,s_oStage.removeAllChildren(),s_oMain.gotoMenu()},this.update=function(){s_bClickBall!==!1&&(l.checkEdges()&&(0!==s&&n.updateScore(0,Math.floor(100*_)/100),i?(s=l.getInitialScoringdata().initGravity,DISABLE_SOUND_MOBILE!==!1&&s_bMobile!==!1||createjs.Sound.play("reset_kickup")):s>0&&(s=0,DISABLE_SOUND_MOBILE!==!1&&s_bMobile!==!1||createjs.Sound.play("reset_kickup"))),s_bClickBall?(t-=s_iTimeElaps,t<0?(s_bClickBall=!1,o.show(Math.floor(100*_)/100,i),$(s_oMain).trigger("end_level",1)):n.refreshTime(formatTime(t))):n.refreshTime(formatTime(0)),l.update(),s_oStage.update())},this.increaseScore=function(){i?s+=a:s++;var e=Math.random();e<=.25&&s>_?n.newTopScore():e<=.7&&n.encouragement(),s>_&&(_=s),n.updateScore(Math.floor(100*s)/100,Math.floor(100*_)/100)},this.playerAnim=function(e,i){r.display(e,i)},s_oGame=this,s_bClickBall=!0,this._init(e)}var s_bClickBall=!0,s_oGame=null;